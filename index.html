<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>City Generation Tool</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <h1>City Generation Tool</h1>
            <p>Explore and blend different city generation algorithms</p>
        </header>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Sidebar Controls -->
            <aside class="sidebar">
                <div class="algorithm-section">
                    <h3>Algorithms</h3>
                    <div class="algorithm-controls">
                        <!-- Grid Layout -->
                        <div class="algorithm-item">
                            <label class="algorithm-header">
                                <input type="checkbox" id="grid-layout" checked>
                                <span>Grid Layout</span>
                                <input type="range" class="blend-slider" min="0" max="100" value="50" id="grid-weight">
                                <span class="weight-value">50%</span>
                            </label>
                            <div class="algorithm-params">
                                <div class="param-group">
                                    <label>Grid Size: <input type="range" min="5" max="50" value="20" id="grid-size"></label>
                                    <label>Street Width: <input type="range" min="1" max="10" value="2" id="street-width"></label>
                                    <label>Density: <input type="range" min="0.1" max="1" step="0.1" value="0.7" id="grid-density"></label>
                                </div>
                            </div>
                        </div>

                        <!-- Poisson Disk Sampling -->
                        <div class="algorithm-item">
                            <label class="algorithm-header">
                                <input type="checkbox" id="poisson-disk">
                                <span>Poisson Disk Sampling</span>
                                <input type="range" class="blend-slider" min="0" max="100" value="0" id="poisson-weight">
                                <span class="weight-value">0%</span>
                            </label>
                            <div class="algorithm-params">
                                <div class="param-group">
                                    <label>Min Distance: <input type="range" min="10" max="100" value="30" id="poisson-distance"></label>
                                    <label>Max Attempts: <input type="range" min="10" max="100" value="30" id="poisson-attempts"></label>
                                </div>
                            </div>
                        </div>

                        <!-- Random Walk -->
                        <div class="algorithm-item">
                            <label class="algorithm-header">
                                <input type="checkbox" id="random-walk">
                                <span>Random Walk</span>
                                <input type="range" class="blend-slider" min="0" max="100" value="0" id="walk-weight">
                                <span class="weight-value">0%</span>
                            </label>
                            <div class="algorithm-params">
                                <div class="param-group">
                                    <label>Walker Count: <input type="range" min="1" max="20" value="5" id="walker-count"></label>
                                    <label>Steps: <input type="range" min="50" max="500" value="200" id="walker-steps"></label>
                                    <label>Deposit Chance: <input type="range" min="0.01" max="1" step="0.01" value="0.3" id="deposit-chance"></label>
                                </div>
                            </div>
                        </div>

                        <!-- Cellular Automata -->
                        <div class="algorithm-item">
                            <label class="algorithm-header">
                                <input type="checkbox" id="cellular-automata">
                                <span>Cellular Automata</span>
                                <input type="range" class="blend-slider" min="0" max="100" value="0" id="cellular-weight">
                                <span class="weight-value">0%</span>
                            </label>
                            <div class="algorithm-params">
                                <div class="param-group">
                                    <label>Generations: <input type="range" min="1" max="20" value="5" id="cellular-generations"></label>
                                    <label>Neighbor Threshold: <input type="range" min="3" max="8" value="4" id="neighbor-threshold"></label>
                                </div>
                            </div>
                        </div>

                        <!-- Voronoi Diagram -->
                        <div class="algorithm-item">
                            <label class="algorithm-header">
                                <input type="checkbox" id="voronoi">
                                <span>Voronoi Diagram</span>
                                <input type="range" class="blend-slider" min="0" max="100" value="0" id="voronoi-weight">
                                <span class="weight-value">0%</span>
                            </label>
                            <div class="algorithm-params">
                                <div class="param-group">
                                    <label>Seed Points: <input type="range" min="5" max="100" value="25" id="voronoi-seeds"></label>
                                    <label>Buildings per Cell: <input type="range" min="1" max="20" value="5" id="buildings-per-cell"></label>
                                </div>
                            </div>
                        </div>

                        <!-- Wave Function Collapse -->
                        <div class="algorithm-item">
                            <label class="algorithm-header">
                                <input type="checkbox" id="wfc">
                                <span>Wave Function Collapse</span>
                                <input type="range" class="blend-slider" min="0" max="100" value="0" id="wfc-weight">
                                <span class="weight-value">0%</span>
                            </label>
                            <div class="algorithm-params">
                                <div class="param-group">
                                    <label>Tile Size: <input type="range" min="5" max="30" value="10" id="tile-size"></label>
                                    <label>Entropy Threshold: <input type="range" min="1" max="10" value="3" id="entropy-threshold"></label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Global Controls -->
                <div class="topography-controls">
                        <h3>Topography</h3>
                        <label>Water Coverage: <input type="range" min="0" max="100" value="30" id="water-coverage"> <span id="water-coverage-val">30%</span></label>
                        <button id="generate-topo-btn" class="small-btn">Generate Topography</button>
                    </div>

                    <div class="global-controls">
                    <h3>Global Settings</h3>
                    <div class="param-group">
                        <label>Overall Scale: <input type="range" min="0.5" max="3" step="0.1" value="1" id="global-scale"></label>
                        <label>Randomness: <input type="range" min="0" max="1" step="0.01" value="0.5" id="global-randomness"></label>
                        <label>Seed: <input type="number" value="12345" id="global-seed"></label>
                    </div>
                    <div class="action-buttons">
                        <button id="generate-btn" class="primary-btn">Generate</button>
                        <button id="randomize-btn" class="secondary-btn">Randomize</button>
                        <button id="export-btn" class="secondary-btn">Export</button>
                    </div>
                </div>
            </aside>

            <!-- Canvas Area -->
            <main class="canvas-area">
                <canvas id="city-canvas" width="800" height="600"></canvas>
                <div class="canvas-info">
                    <div class="stats-panel">
                        <h4>Generation Stats</h4>
                        <div id="generation-stats">
                            <span>Buildings: 0</span>
                            <span>Roads: 0</span>
                            <span>Time: 0ms</span>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <script src="js/algorithms/gridLayout.js"></script>
    <script src="js/algorithms/poissonDisk.js"></script>
    <script src="js/algorithms/randomWalk.js"></script>
    <script src="js/algorithms/cellularAutomata.js"></script>
    <script src="js/algorithms/voronoi.js"></script>
    <script src="js/algorithms/wfc.js"></script>
    <script src="js/renderer.js"></script>
    <script src="js/topography.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
